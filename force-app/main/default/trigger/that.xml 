
<?xml version="1.0" encoding="UTF-8"?>
<ApexTrigger xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>AccountTrigger</fullName>
    <apiVersion>53.0</apiVersion>
    <status>Active</status>
    <tableEnumOrId>Account</tableEnumOrId>
    <type>AfterInsert, AfterUpdate</type>
    <triggerType>before</triggerType>
    <description>Trigger to handle Account creation and management</description>
    <code>
        <![CDATA[
        trigger AccountTrigger on Account (after insert, after update) {
            // Trigger logic goes here
            
            // Check for duplicate accounts
            Set<String> accountNames = new Set<String>();
            for (Account acc : Trigger.new) {
                accountNames.add(acc.Name);
            }
            
            List<Account> duplicateAccounts = [SELECT Id, Name FROM Account WHERE Name IN :accountNames];
            
            if (duplicateAccounts.size() > 0) {
                for (Account acc : Trigger.new) {
                    for (Account duplicate : duplicateAccounts) {
                        if (acc.Name == duplicate.Name && acc.Id != duplicate.Id) {
                            acc.addError('Duplicate Account found: ' + duplicate.Name);
                        }
                    }
                }
            }
        }
        ]]>
    </code>
</ApexTrigger>
